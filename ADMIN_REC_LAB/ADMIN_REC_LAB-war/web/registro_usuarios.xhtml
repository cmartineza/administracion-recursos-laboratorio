<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
          <link href="${pageContext.request.contextPath}/ADMIN_REC_LAB-war/resources/css/style.css" rel="stylesheet" type="text/css" />
        <title>..::Registro profesores::..</title>
    </h:head>
    <h:body>
        <div class="infoBar">
            <img src="${pageContext.request.contextPath}/ADMIN_REC_LAB-war/images/colombia.gif" style="margin-top:5px; margin-left: 13px;"/>
                <label>
                    Bogotá, Colombia - 27 de Octubre de 2014
                </label>

                <button>Cerrar Sesion</button>
                <label style="float:right;margin-right: 10px;">
                    Bienvenido 
                </label>
        </div>
        <div class="header">
            <label>Laboratorio Mecanica</label>
        </div>
        
        <h:form id="form"> 
            <p:messages id="msg" closable="true" escape="true" showDetail="true" showSummary="false"/>
            <p:panel id="registroUsuario">
                    <h:panelGrid columns="2">
                         
                         <p:outputLabel for="selectTipoUsuario" value="Tipo de Usuario: "/>
                         <p:selectOneMenu id="selectTipoUsuario" binding="#{tipoUsuario}" required="true" label="Tipo de Usuario: " value="#{registro.tipoRegistro}"
                                         requiredMessage="Por seleccionar un Tipo de Usuario">
                            <f:selectItem itemValue="#{null}" itemLabel="Seleccione.."/>
                            <f:selectItem itemValue="estudiante" itemLabel="Estudiante"/>
                            <f:selectItem itemValue="profesor" itemLabel="Profesor"/>
                            <p:ajax event="change" update=":form:registroUsuario"/>
                        </p:selectOneMenu>   
                         
                         <p:outputLabel for="txtCodigoProfesor" value="Codigo Profesor: "/>
                         <p:inputText value="#{registro.codigoProfesor}" id="txtCodigoProfesor" rendered="#{tipoUsuario.value eq 'estudiante'}"
                                     required="true" requiredMessage="Por favor ingrese el codigo del profesor"/>
                        
                        <p:outputLabel for="selectTipoDoc" value="Tipo Documento: "/>
                        <p:selectOneMenu id="selectTipoDoc" required="true" label="Tipo Documento" value="#{registro.tipoIdentificacion}"
                                         requiredMessage="Por favor seleccione un estado para el usuario">
                            <f:selectItem itemValue="#{null}" itemLabel="Seleccione.."/>
                            <f:selectItems value="#{registro.listTipoDoc}" var="tipoDoc"
                                           itemValue="#{tipoDoc.idTipoDocumento}" itemLabel="#{tipoDoc.descripcion}"/>
                        </p:selectOneMenu>

                        <p:outputLabel for="txtNumeroIdentificacion" value="Numero de identificación: "/>
                        <p:inputText value="#{registro.usuario.numeroIdentificacion}" id="txtNumeroIdentificacion" 
                                     required="true" requiredMessage="Por favor ingrese el campo numero de indentificación"/>

                        <p:outputLabel for="txtNombre" value="Nombres: "/>
                        <p:inputText value="#{registro.usuario.nombres}" id="txtNombre" 
                                     required="true" requiredMessage="Por favor ingrese el campo nombres"/>

                        <p:outputLabel for="txtApellido1" value="Apellido 1: "/>
                        <p:inputText value="#{registro.usuario.apellido1}" id="txtApellido1" 
                                     required="true" requiredMessage="Por favor ingrese el campo apellido1"/>

                        <p:outputLabel for="txtApellido2" value="Apellido 2: "/>
                        <p:inputText value="#{registro.usuario.apellido2}" id="txtApellido2" 
                                     required="true" requiredMessage="Por favor ingrese el campo apellido2"/>

                        <p:outputLabel for="txtEmail" value="Email"/>
                        <p:inputText value="#{registro.usuario.email}" id="txtEmail" 
                                     required="true" requiredMessage="Por favor ingrese el campo email."/>

                        <p:outputLabel for="txtCelular" value="Celular: "/>
                        <p:inputText value="#{registro.usuario.celular}" id="txtCelular" 
                                     required="true" requiredMessage="Por favor ingrese el campo celular"/>

                        <p:outputLabel for="pwd1" value="Contraseña: *" />
                        <p:password id="pwd1" value="#{registro.usuario.contrasena}" match="pwd2" label="Contraseña" required="true" 
                                    requiredMessage="Por favor ingrese la contraseña"/>
 
                        <p:outputLabel for="pwd2" value="Repita su contraseña: *" />
                        <p:password id="pwd2" value="#{registro.usuario.contrasena}" label="Contraseña:" required="true"
                                    requiredMessage="Por favor confirme la contraseña"/>
    
                                               

                        <h:panelGroup/>
                        <p:commandButton actionListener="#{registro.registrarUsuario}" value="Registrar" 
                                       update=":form:registroUsuario,msg"/>
                    </h:panelGrid>      
                </p:panel>
        </h:form>
    </h:body>
</html>

